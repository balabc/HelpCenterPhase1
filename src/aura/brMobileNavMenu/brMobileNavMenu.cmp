<aura:component implements="forceCommunity:availableForAllPageTypes,force:hasRecordId" controller="brMobileNavMenuCtrl">
    <aura:attribute name="menuIds" type="List"/>
    <aura:attribute name="menuItems" type="List" default="[]"/>
    <aura:attribute name="menuList" type="List"/>
    <aura:attribute name="currentTitle" type="String"/>
    <aura:attribute name="phoneList" type="List"/>
    <aura:attribute name="user" type="Object" default="{0: false}"/>
    
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <aura:handler name="change" value="{!v.user}" action="{!c.changeUser}"/>
    <aura:handler name="eventMobileNavMenuItem" event="c:brMobileNavMenuItemEvent" action="{!c.onChangeLvl}"/>
    
    <div class="header-mobile__nav">
        <aura:renderIf isTrue="{!(v.currentTitle)}">
            <div class="header-mobile__menu-item-goback" onclick="{!c.onChangeLvl}">
                <div class="header-mobile__menu-goback">
                    <div class="header-mobile__menu-arrow-angular-right nav-arrow-hor-angular">
                        <div class="nav-arrow-hor-angular__handler">
                            <span class="nav-arrow-hor-angular__icon"></span>
                        </div>
                    </div>
                </div>
                <a href="javascript:void(0);" class="header-mobile__menu-link truncated">
                    <span class="header-mobile__menu-text truncated">{!v.currentTitle}</span>
                </a>
            </div>
        </aura:renderIf>    
        <div class="header-mobile__nav-inner">
            <ul class="header-mobile__menu">
                <aura:renderIf isTrue="{!(v.menuList.length)}">
                    <aura:iteration items="{!v.menuList}" var="item" >
                        <aura:renderIf isTrue="{!(v.menuList.length)}">
                        	<c:brMobileNavMenuItem item="{!item}" />
                        </aura:renderIf>
                    </aura:iteration>
                    <aura:set attribute="else">
                        <c:brMobileNavMenuItemStatic data="{!v.phoneList}" />
                    </aura:set>
                </aura:renderIf>
            </ul> 
            <!--<c:brCategoriesCMP recordId="{!v.recordId}"/>-->
        </div>
    </div>
</aura:component>